<!DOCTYPE html>
<html lang="en">

<head>
    <title>SUT Feeder</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="images/icons/brand-logo.png" />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/animate/animate.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/css-hamburgers/hamburgers.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/animsition/css/animsition.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/select2/select2.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="js/vendor/daterangepicker/daterangepicker.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/stylesheet-dashboard.css">
    <link rel="stylesheet" type="text/css" href="css/firework.css">
    <link rel="stylesheet" type="text/css" href="css/table.css">
    <!--===============================================================================================-->
</head>

<body onload="Dashboard()">
    <div class="container container-fluid">
        <div class="row justify-content-between nav-bar">
            <div class="col-lg d-flex flex-nowrap align-items-center p-0">
                <a href="dashboard.html"><img class="brand-icon" src="images/icons/brand-logo.png" /></a>
                <a href="dashboard.html"><h3 class="brand-name">SUT Feeder</h3></a>
            </div>
            <div class="col-lg text-right p-0">
                <a href="" data-toggle="modal" data-target="#HistoryModal"><i class="fa fa-bars fa-2x" aria-hidden="true"></i></a>
                <a href="" data-toggle="modal" data-target="#SettingModal"><i class="fa fa-cog fa-2x" aria-hidden="true"></i></a>
            </div>
        </div>
        <div class="row user-data">
            <div class="col-md">
                <i class="fa fa-user-circle" aria-hidden="true"></i> สวัสดี, คุณ<span id="user-fullname"></span></br />
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md user-data user-weather mr-2">
                <i class="fa fa-cloud mr-2" aria-hidden="true"></i>สภาพอากาศ: <span id="weatherTxt">-</span><br />
                <i class="fa fa-thermometer-three-quarters mr-2" aria-hidden="true"></i>อุณหภูมิ: <span id="celsiusTxt">-</span> &#8451;
                [<a href="#" data-toggle="modal" data-target="#AddLocationModal" id="linkforlatlong">ตั้งค่าพิกัด</a>]
            </div>
            <div class="col-md user-data">
                <i class="fa fa-calendar mr-2" aria-hidden="true"></i><span id="dateTxt"></span></br />
                <i class="fa fa-clock-o mr-2" aria-hidden="true"></i></i><span id="clock"></span>
            </div>
        </div>
        <div class="row user-data">
            <div class="col-md d-flex align-items-center">
                <div class="dropdown mr-2">
                    <button id="feeder-dropdown" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span id="ProjectNameDropdown"></span>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="my-dropdown" id="dropdown-list"></div>
                </div>
                <a href="#" data-toggle="modal" data-target="#AddProjectModal"><i class="fa fa-plus-circle fa-lg mr-2" aria-hidden="true"></i></a>
                <a href="#" data-toggle="modal" data-target="#DeleteProjectModal" id="DeleteProjectBtn"><i class="fa fa-minus-circle fa-lg mr-2" aria-hidden="true"></i></a>
                <div class="text-nowrap">| สถานะ <span id="mastatus"></span></div>
            </div>
        </div>
        <div class="mt-2 mb-5">
            <nav class="body-control">
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">ให้อาหารปลา</a>
                    <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">ตั้งเวลา</a>
                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false" onclick="getProjectInfo()">ข้อมูลการใช้อาหาร</a>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                    <div class="row manual-control">
                        <div class="container p-3 text-center">
                            <h4 id="headerTxt">ควบคุมการให้อาหารด้วยตนเอง</h4>
                            <div class="justify-content-center">
                                <div class="d-inline-flex align-items-center">
                                    <label for="foodsize">ขนาดเม็ดอาหาร</label>           
                                    <select class="form-control" name="foodsize" id="foodsize" onchange="checkSize(this.value)">
                                        <option class="form-control" value="1">อาหารปลา 1 มม.</option>
                                        <option class="form-control" value="2">อาหารปลา 2 มม.</option>
                                        <option class="form-control" value="5">อาหารปลา 5 มม.</option>
                                        <option class="form-control" value="0">อื่น ๆ</option>
                                    </select>
                                </div>
                                <div id="otherSize">
                                    <div class="form-group" style="text-align: -webkit-center;">
                                        <label>ป้อนค่าน้ำหนัก (กก./วินาที)</label>
                                        <input type="number" step="0.01" min="0" value="1" class="form-control" style="width: 150px; text-align: center;" id="self_weight" />
                                    </div>
                                </div>
                                <div><button class="btn btn-primary btn-control" id="mstartfeed" onclick="BeforeStartFeeding()">เริ่ม</button></div>
                                <div><button class="btn btn-danger btn-control" id="mstopfeed" disabled onclick="StopFeeding()">หยุด</button></div>
                                <div class="d-flex flex-nowrap justify-content-center align-items-center m-3">
                                    <span class="text-nowrap">เวลา</span>
                                    <input type="text" class="form-control" disabled value="0" id="UsedFoodTime">
                                    <span>วินาที</span>
                                </div>
                                <div class="d-flex flex-nowrap justify-content-center align-items-center m-3">
                                    <span class="text-nowrap">อาหารที่ใช้</span>
                                    <input type="text" class="form-control" disabled value="0" id="UsedFoodG">
                                    <span>กรัม หรือ</span>
                                    <input type="text" class="form-control" disabled value="0" id="UsedFoodK">
                                    <span>กก.</span>
                                </div>
                                <div>
                                    <button class="btn btn-success" id="msavefeed" data-toggle="modal" data-target="#SaveFeedingModal" disabled >บันทึกข้อมูล</button>
                                    <button class="btn btn-secondary" id="mclearfeed" data-toggle="modal" data-target="#CancelFeedingModal"  disabled>ไม่บันทึกข้อมูล</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <div class="row auto-control">
                        <div class="table-wrapper">
                            <div class="table-title">
                                <div class="row justify-content-between">
                                    <div class="col-auto" style="align-self:center !important">
                                        <h4>ตั้งเวลาให้อาหารอัติโนมัติ</h4>
                                    </div>
                                    <div class="col-auto">
                                        <button type="button" id="AddNewRowBtn" data-toggle="modal" data-target="#AutomationModal" class="btn btn-info btn-sm add-new"><i class="fa fa-plus"></i><span id="AddRowBtnTxt">เพิ่ม</span></button>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="CloseAutoFeed">
                                * โปรแกรมให้อาหารอัตโนมัติ จะเริ่มทำงานอีกครั้ง วันที่ <span id="CloseAutoFeed_date"></span> น.
                                [<a style="text-decoration: underline;" onclick="CancelDisabledAutomotion()">ยกเลิก</a>]
                            </div>
                            <div class="row table-body">                                
                                <table class="table table-responsive table-bordered table-hover" id="AutomationTable">
                                    <thead>
                                        <tr>
                                            <!--<th>เริ่มวันที่</th>
                                            <th>ถึงวันที่</th>-->
                                            <th>เวลา</th>
                                            <th>ปริมาณอาหาร (กก.)</th>
                                            <th>รอบการให้อาหาร (รอบ)</th>
                                            <th>เวลาต่อรอบ (วินาที)</th>
                                            <th>เวลาพักเบรค (วินาที)</th>
                                            <th style="display: none;">สถานะ</th>
                                            <th>เปิด/ปิดการทำงาน</th>                                            
                                            <th>ลบ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <div class="row feeding-control">
                        <div class="container py-3 px-1 text-center">
                            <h4>ข้อมูลการใช้อาหาร</h4>
                            <div class="mt-3 justify-content-center align-content-center table-striped food-data-table">
                                <table class="table table-history table-responsive table-hover table-bordered">
                                  <tbody>
                                    <tr>
                                      <td>วันที่เริ่มต้น</td>
                                      <td><input type="date" class="form-control fm-p-data" id="r_startdate" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>วันที่สุดท้าย</td>
                                      <td><input type="date" class="form-control fm-p-data" id="r_enddate" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>น้ำหนักปลาเริ่มต้น (กก.)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_beginweight" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>จำนวนปลา (ตัว)</td>
                                      <td><input type="number" class="form-control fm-p-data" id="r_beginamount" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>น้ำหนักปลาสุดท้าย (กก.)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_endweight"  disabled></td>
                                    </tr>
                                    <tr>
                                      <td>น้ำหนักปลาที่เพิ่มขึ้น (กก.)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_plusweight" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>อาหารที่ใช้ทั้งหมด (กรัม)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_totalfoodG" disabled></td>
                                    </tr>
                                    <tr>
                                      <td>อาหารที่ใช้ทั้งหมด (กก.)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_totalfoodK" disabled></td>
                                    </tr>
                                    <tr>
                                      <td style="white-space: pre-wrap;">อัตราการเปลี่ยนอาหารเป็นเนื้อ (FCR)</td>
                                      <td><input type="number" class="form-control fm-p-data" step="0.01" id="r_fcr" disabled></td>
                                    </tr>
                                  </tbody>
                                </table>
                            </div>
                            <div class="row d-flex justify-content-center">                                
                                <button class="btn btn-danger btn-r4" id="btn_r_cancel" onclick="RecordCancel()">ยกเลิก</button>                                
                                <button class="btn btn-secondary btn-r1" id="btn_r_edit" onclick="RecordEdit()">แก้ไข</button>                                
                                <button class="btn btn-success btn-r2" id="btn_r_save" onclick="RecordSave()">บันทึก</button>
                                <button class="btn btn-primary btn-r3" id="btn_r_close" data-toggle="modal" data-target="#CloseProjectModal">สิ้นสุดการเก็บข้อมูล</button>                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ModalInclude"></div>

    <!--===============================================================================================-->
    <script src="js/vendor/jquery/jquery-3.2.1.min.js"></script>
    <!--===============================================================================================-->
    <script src="js/vendor/animsition/js/animsition.min.js"></script>
    <!--===============================================================================================-->
    <script src="js/vendor/bootstrap/js/popper.js"></script>
    <script src="js/vendor/bootstrap/js/bootstrap.min.js"></script>
    <!--===============================================================================================-->
    <script src="js/vendor/select2/select2.min.js"></script>
    <!--===============================================================================================-->
    <script src="js/vendor/daterangepicker/moment.min.js"></script>
    <script src="js/vendor/daterangepicker/daterangepicker.js"></script>
    <!--===============================================================================================-->
    <script src="js/vendor/countdowntime/countdowntime.js"></script>
    <!--===============================================================================================-->
    <script src="js/dashboard.js"></script>
    <script src="js/weather.js"></script>
    <script src="js/manual-feeding.js"></script>

</body>

</html>